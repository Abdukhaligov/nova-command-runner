(()=>{"use strict";var e={229:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".content-start{align-content:start}.btn-success{background-color:#28a745;border-color:#28a745;color:#fff}.btn-success:hover{background-color:#218838;border-color:#1e7e34;color:#fff}.btn-success.focus,.btn-success:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-success.disabled,.btn-success:disabled{background-color:#28a745;border-color:#28a745;color:#fff}.btn-success:not(:disabled):not(.disabled).active,.btn-success:not(:disabled):not(.disabled):active,.show>.btn-success.dropdown-toggle{background-color:#1e7e34;border-color:#1c7430;color:#fff}.btn-success:not(:disabled):not(.disabled).active:focus,.btn-success:not(:disabled):not(.disabled):active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-info{background-color:#17a2b8;border-color:#17a2b8;color:#fff}.btn-info:hover{background-color:#138496;border-color:#117a8b;color:#fff}.btn-info.focus,.btn-info:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-info.disabled,.btn-info:disabled{background-color:#17a2b8;border-color:#17a2b8;color:#fff}.btn-info:not(:disabled):not(.disabled).active,.btn-info:not(:disabled):not(.disabled):active,.show>.btn-info.dropdown-toggle{background-color:#117a8b;border-color:#10707f;color:#fff}.btn-info:not(:disabled):not(.disabled).active:focus,.btn-info:not(:disabled):not(.disabled):active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-warning{background-color:#ffc107;border-color:#ffc107;color:#212529}.btn-warning:hover{background-color:#e0a800;border-color:#d39e00;color:#212529}.btn-warning.focus,.btn-warning:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning.disabled,.btn-warning:disabled{background-color:#ffc107;border-color:#ffc107;color:#212529}.btn-warning:not(:disabled):not(.disabled).active,.btn-warning:not(:disabled):not(.disabled):active,.show>.btn-warning.dropdown-toggle{background-color:#d39e00;border-color:#c69500;color:#212529}.btn-warning:not(:disabled):not(.disabled).active:focus,.btn-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.badge-success{background-color:#28a745;color:#fff}.badge-error{background-color:#dc3545;color:#fff}.badge-pending{background-color:#ffc107;color:#212529}",""]);const a=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(r[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);o&&r[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),t.push(d))}},t}},379:(e,t,n)=>{var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),c=[];function l(e){for(var t=-1,n=0;n<c.length;n++)if(c[n].identifier===e){t=n;break}return t}function d(e,t){for(var n={},o=[],r=0;r<e.length;r++){var a=e[r],d=t.base?a[0]+t.base:a[0],s=n[d]||0,i="".concat(d," ").concat(s);n[d]=s+1;var u=l(i),m={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(c[u].references++,c[u].updater(m)):c.push({identifier:i,updater:b(m,t),references:1}),o.push(i)}return o}function s(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var c=a(e.insert||"head");if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(t)}return t}var i,u=(i=[],function(e,t){return i[e]=t,i.filter(Boolean).join("\n")});function m(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var a=document.createTextNode(r),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(a,c[t]):e.appendChild(a)}}function p(e,t,n){var o=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var g=null,f=0;function b(e,t){var n,o,r;if(t.singleton){var a=f++;n=g||(g=s(t)),o=m.bind(null,n,a,!1),r=m.bind(null,n,a,!0)}else n=s(t),o=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=d(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=l(n[o]);c[r].references--}for(var a=d(e,t),s=0;s<n.length;s++){var i=l(n[s]);0===c[i].references&&(c[i].updater(),c.splice(i,1))}n=a}}}},744:(e,t)=>{t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,o]of t)n[e]=o;return n}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{const e=Vue;var t={class:"mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},o={class:"p-6 grid gap-6"},r={key:0},a={class:"inline-block text-80 mb-2 leading-tight w-full capitalize"},c=["type","onUpdate:modelValue","placeholder"],l={key:1},d={class:"flex items-center ml-auto"},s={key:1,class:"flex flex-col md:flex-row mb-3"},i={class:"w-full md:w-3/5 md:px-3 mb-2 md:mb-0"},u=(0,e.createTextVNode)(" Run "),m={class:"md:col-span-3 grid gap-2 content-start"},p={class:"flex flex-col md:flex-row justify-between mt-6 mb-6"},g=(0,e.createTextVNode)("History"),f=(0,e.createTextVNode)(" Clear History "),b={key:0,class:"w-full table-default"},h=(0,e.createElementVNode)("thead",null,[(0,e.createElementVNode)("tr",null,[(0,e.createElementVNode)("th",{class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"}," Command "),(0,e.createElementVNode)("th",{class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"}," Type "),(0,e.createElementVNode)("th",{class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"}," Run By "),(0,e.createElementVNode)("th",{class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"}," Status "),(0,e.createElementVNode)("th",{class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"}," Result "),(0,e.createElementVNode)("th",{class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"}," Duration "),(0,e.createElementVNode)("th",{class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"}," Happened ")])],-1),y={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},v={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},k={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},w={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},x={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},C=["innerHTML"],N={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},V={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},B={key:1,class:"flex flex-col justify-center items-center px-6 py-8"},E={class:"text-base font-normal mt-3"};const D={data:function(){return{modalOpen:!1,running:!1,groups:[],commands:{},customCommand:{label:"Custom Command",type:"primary",help:"are you sure you want to run this command?",command_type:"artisan",command:"",variables:[],flags:[]},history:{},runningCommand:{},help:"",heading:"",customCommands:{}}},created:function(){this.getData()},methods:{clearHistory:function(){this.openModal({label:"Clear Command Run History",type:"primary",help:"are you sure you want to clear the command run history?",command_type:"artisan",command:"cache:forget nova-command-runner-history",variables:[],flags:[]})},getOptions:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];for(var o in t&&n.push({value:"",label:"-"}),e)n.push({value:o,label:e[o]});return n},runCustomCommand:function(){this.customCommand.command?this.openModal(this.customCommand):Nova.error("Please enter a command")},getData:function(){var e=this;Nova.request().get("/nova-vendor/stepanenko3/nova-command-runner").then((function(t){e.groups=[],t.data.commands.forEach((function(t){var n=t.group;e.groups.indexOf(n)<0&&e.groups.push(n)})),e.commands=t.data.commands,e.history=t.data.history,e.help=t.data.help,e.heading=t.data.heading,e.customCommands=t.data.custom_commands,e.customCommands&&(e.customCommand.command_type=Object.keys(e.customCommands)[0])}))},runCommand:function(){var e=this,t=!0;this.runningCommand.variables&&Object.keys(this.runningCommand.variables).forEach((function(n){e.runningCommand.variables[n].value||(t=!1,Nova.error(e.runningCommand.variables[n].label+" is required"))})),t&&(this.running=!0,Nova.request().post("/nova-vendor/stepanenko3/nova-command-runner/run",{command:this.runningCommand}).then((function(t){t.data.status&&"success"===t.data.status?Nova.success(t.data.result):Nova.error(t.data.result),e.running=!1,e.history=t.data.history,e.closeModal()})).catch((function(t){e.running=!1})))},openModal:function(e){this.runningCommand=e,this.modalOpen=!0},closeModal:function(){this.modalOpen=!1,this.runningCommand={}}}};var _=n(379),S=n.n(_),O=n(229),M={insert:"head",singleton:!1};S()(O.Z,M);O.Z.locals;const T=(0,n(744).Z)(D,[["render",function(n,D,_,S,O,M){var T,j=(0,e.resolveComponent)("ModalHeader"),L=(0,e.resolveComponent)("SelectControl"),H=(0,e.resolveComponent)("CheckboxWithLabel"),F=(0,e.resolveComponent)("CancelButton"),z=(0,e.resolveComponent)("LoadingButton"),R=(0,e.resolveComponent)("ModalFooter"),A=(0,e.resolveComponent)("Modal"),I=(0,e.resolveComponent)("Heading"),U=(0,e.resolveComponent)("Card"),Z=(0,e.resolveComponent)("Template"),q=(0,e.resolveComponent)("DefaultButton"),P=(0,e.resolveComponent)("heading"),J=(0,e.resolveComponent)("DangerButton"),W=(0,e.resolveComponent)("Badge"),G=(0,e.resolveComponent)("Icon"),K=(0,e.resolveComponent)("card");return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createVNode)(A,{show:O.modalOpen,tabindex:"-1","data-testid":"command-runner-modal",role:"dialog"},{default:(0,e.withCtx)((function(){return[(0,e.createElementVNode)("div",t,[(0,e.createVNode)(j,{textContent:(0,e.toDisplayString)(O.runningCommand.label)},null,8,["textContent"]),(0,e.createElementVNode)("div",o,[O.runningCommand.help?((0,e.openBlock)(),(0,e.createElementBlock)("p",r,(0,e.toDisplayString)(O.runningCommand.help),1)):(0,e.createCommentVNode)("",!0),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(O.runningCommand.variables,(function(t,n){return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createElementVNode)("label",a,(0,e.toDisplayString)(t.label),1),"select"===t.field?((0,e.openBlock)(),(0,e.createBlock)(L,{key:0,size:"lg",dusk:t.label,options:M.getOptions(t.options),selected:M.getOptions(t.options)[0].value||"",onChange:function(e){return t.value=e}},null,8,["dusk","options","selected","onChange"])):(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("input",{key:1,type:t.field,class:"w-full form-control form-input form-input-bordered w-full","onUpdate:modelValue":function(e){return t.value=e},placeholder:t.placeholder},null,8,c)),[[e.vModelDynamic,t.value]])])})),256)),O.runningCommand.flags.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",l,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(O.runningCommand.flags,(function(t,n){return(0,e.openBlock)(),(0,e.createBlock)(H,{key:"flag-"+n,onInput:function(e){return O.runningCommand.flags[n].selected=e.target.checked}},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(t.label),1)]})),_:2},1032,["onInput"])})),128))])):(0,e.createCommentVNode)("",!0)]),(0,e.createVNode)(R,null,{default:(0,e.withCtx)((function(){return[(0,e.createElementVNode)("div",d,[(0,e.createVNode)(F,{component:"button",type:"button",dusk:"cancel-action-button",class:"ml-auto mr-3",onClick:(0,e.withModifiers)(M.closeModal,["prevent"])},null,8,["onClick"]),(0,e.createVNode)(z,{type:"submit",ref:"runButton",dusk:"confirm-run-button",disabled:O.running,loading:O.running,onClick:D[0]||(D[0]=function(e){return M.runCommand()}),component:O.runningCommand.type&&-1===["primary","danger"].indexOf(O.runningCommand.type)?n.BasicButton:"danger"===O.runningCommand.type?"DangerButton":"DefaultButton",class:(0,e.normalizeClass)(O.runningCommand.type&&-1===["primary","danger"].indexOf(O.runningCommand.type)?"btn-"+O.runningCommand.type:"")},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(O.runningCommand.label),1)]})),_:1},8,["disabled","loading","component","class"])])]})),_:1})])]})),_:1},8,["show"]),(0,e.createVNode)(I,{class:"mb-6"},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(O.heading),1)]})),_:1}),O.help?((0,e.openBlock)(),(0,e.createBlock)(Z,{key:0},{default:(0,e.withCtx)((function(){return[(0,e.createVNode)(U,{class:"p-3"},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(O.help),1)]})),_:1})]})),_:1})):(0,e.createCommentVNode)("",!0),Array.isArray(O.customCommands)?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",s,[(0,e.createVNode)(L,{class:"md:w-1/5 mb-2 md:mb-0",options:M.getOptions(O.customCommands,!1),selected:null!==(T=M.getOptions(O.customCommands,!1)[0].value)&&void 0!==T?T:"",dusk:"command-runner-type",size:"lg",onChange:D[1]||(D[1]=function(e){return O.customCommand.command_type=e})},null,8,["options","selected"]),(0,e.createElementVNode)("div",i,[(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"text","onUpdate:modelValue":D[2]||(D[2]=function(e){return O.customCommand.command=e}),placeholder:"Enter a Command...",class:"w-full form-control form-input form-input-bordered"},null,512),[[e.vModelText,O.customCommand.command]])]),(0,e.createVNode)(q,{size:"lg",onClick:M.runCustomCommand,class:"w-full md:w-1/3"},{default:(0,e.withCtx)((function(){return[u]})),_:1},8,["onClick"])])),(0,e.createVNode)(U,{class:"grid md:grid-cols-12 gap-6 p-6"},{default:(0,e.withCtx)((function(){return[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(O.groups,(function(t){return(0,e.openBlock)(),(0,e.createElementBlock)("div",m,[(0,e.createVNode)(I,{level:"2"},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(t||"Unnamed group"),1)]})),_:2},1024),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(O.commands,(function(o,r){return(0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,null,[o.group==t?((0,e.openBlock)(),(0,e.createBlock)(z,{key:0,size:"lg",ref_for:!0,ref:"button",class:(0,e.normalizeClass)(["shadow relative w-full mt-2",o.type&&-1===["primary","danger"].indexOf(o.type)?"btn-"+o.type:""]),disabled:O.running,onClick:function(e){return M.openModal(o)},component:o.type&&-1===["primary","danger"].indexOf(o.type)?n.BasicButton:"danger"===o.type?"DangerButton":"DefaultButton"},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(o.label),1)]})),_:2},1032,["disabled","onClick","component","class"])):(0,e.createCommentVNode)("",!0)],64)})),256))])})),256))]})),_:1}),(0,e.createElementVNode)("div",p,[(0,e.createVNode)(P,null,{default:(0,e.withCtx)((function(){return[g]})),_:1}),(0,e.createVNode)(J,{class:"items-right md:mt-2",onClick:M.clearHistory},{default:(0,e.withCtx)((function(){return[f]})),_:1},8,["onClick"])]),(0,e.createVNode)(K,{class:"mb-6 overflow-hidden overflow-x-auto relative"},{default:(0,e.withCtx)((function(){return[O.history&&Object.keys(O.history).length>0?((0,e.openBlock)(),(0,e.createElementBlock)("table",b,[h,(0,e.createElementVNode)("tbody",null,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(O.history,(function(t){return(0,e.openBlock)(),(0,e.createElementBlock)("tr",null,[(0,e.createElementVNode)("td",y,(0,e.toDisplayString)(t.run),1),(0,e.createElementVNode)("td",v,(0,e.toDisplayString)(t.type),1),(0,e.createElementVNode)("td",k,(0,e.toDisplayString)(t.run_by),1),(0,e.createElementVNode)("td",w,[(0,e.createVNode)(W,{label:t.status,extraClasses:"badge-"+t.status},null,8,["label","extraClasses"])]),(0,e.createElementVNode)("td",x,[(0,e.createElementVNode)("pre",{innerHTML:t.result},null,8,C)]),(0,e.createElementVNode)("td",N,(0,e.toDisplayString)(t.duration?t.duration+" sec.":""),1),(0,e.createElementVNode)("td",V,(0,e.toDisplayString)(t.time),1)])})),256))])])):((0,e.openBlock)(),(0,e.createElementBlock)("div",B,[(0,e.createVNode)(G,{type:"search",class:"mb-3 text-gray-300 dark:text-gray-500",width:"50",height:"50"}),(0,e.createElementVNode)("h3",E,(0,e.toDisplayString)(n.__("No Logs.")),1)]))]})),_:1})])}]]);Nova.booting((function(e,t){Nova.inertia("NovaCommandRunner",T)}))})()})();