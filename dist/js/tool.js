(()=>{"use strict";var e={465:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".content-start{align-content:start}.btn-success{background-color:#28a745;border-color:#28a745;color:#fff}.btn-success:hover{background-color:#218838;border-color:#1e7e34;color:#fff}.btn-success.focus,.btn-success:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-success.disabled,.btn-success:disabled{background-color:#28a745;border-color:#28a745;color:#fff}.btn-success:not(:disabled):not(.disabled).active,.btn-success:not(:disabled):not(.disabled):active,.show>.btn-success.dropdown-toggle{background-color:#1e7e34;border-color:#1c7430;color:#fff}.btn-success:not(:disabled):not(.disabled).active:focus,.btn-success:not(:disabled):not(.disabled):active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-info{background-color:#17a2b8;border-color:#17a2b8;color:#fff}.btn-info:hover{background-color:#138496;border-color:#117a8b;color:#fff}.btn-info.focus,.btn-info:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-info.disabled,.btn-info:disabled{background-color:#17a2b8;border-color:#17a2b8;color:#fff}.btn-info:not(:disabled):not(.disabled).active,.btn-info:not(:disabled):not(.disabled):active,.show>.btn-info.dropdown-toggle{background-color:#117a8b;border-color:#10707f;color:#fff}.btn-info:not(:disabled):not(.disabled).active:focus,.btn-info:not(:disabled):not(.disabled):active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-warning{background-color:#ffc107;border-color:#ffc107;color:#212529}.btn-warning:hover{background-color:#e0a800;border-color:#d39e00;color:#212529}.btn-warning.focus,.btn-warning:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning.disabled,.btn-warning:disabled{background-color:#ffc107;border-color:#ffc107;color:#212529}.btn-warning:not(:disabled):not(.disabled).active,.btn-warning:not(:disabled):not(.disabled):active,.show>.btn-warning.dropdown-toggle{background-color:#d39e00;border-color:#c69500;color:#212529}.btn-warning:not(:disabled):not(.disabled).active:focus,.btn-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.badge-success{background-color:#28a745;color:#fff}.badge-error{background-color:#dc3545;color:#fff}.badge-pending{background-color:#ffc107;color:#212529}",""]);const a=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(r[c]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);o&&r[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},379:(e,t,n)=>{var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),c=[];function l(e){for(var t=-1,n=0;n<c.length;n++)if(c[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},o=[],r=0;r<e.length;r++){var a=e[r],s=t.base?a[0]+t.base:a[0],i=n[s]||0,d="".concat(s," ").concat(i);n[s]=i+1;var u=l(d),m={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(c[u].references++,c[u].updater(m)):c.push({identifier:d,updater:b(m,t),references:1}),o.push(d)}return o}function i(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var c=a(e.insert||"head");if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function m(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var a=document.createTextNode(r),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(a,c[t]):e.appendChild(a)}}function p(e,t,n){var o=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var g=null,f=0;function b(e,t){var n,o,r;if(t.singleton){var a=f++;n=g||(g=i(t)),o=m.bind(null,n,a,!1),r=m.bind(null,n,a,!0)}else n=i(t),o=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=l(n[o]);c[r].references--}for(var a=s(e,t),i=0;i<n.length;i++){var d=l(n[i]);0===c[d].references&&(c[d].updater(),c.splice(d,1))}n=a}}}},744:(e,t)=>{t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,o]of t)n[e]=o;return n}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{const e=Vue;var t={class:"mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},o={class:"p-6 grid gap-6"},r={key:0},a={class:"inline-block text-80 mb-2 leading-tight w-full capitalize"},c=["type","onUpdate:modelValue","placeholder"],l={key:1},s={class:"flex items-center ml-auto"},i={key:1,class:"flex flex-col md:flex-row mb-3"},d={class:"w-full md:w-3/5 md:px-3 mb-2 md:mb-0"},u=["placeholder"],m={class:"md:col-span-3 grid gap-2 content-start"},p={class:"flex flex-col md:flex-row justify-between mt-6 mb-6"},g={key:0,class:"w-full table-default"},f={class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"},b={class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"},h={class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"},y={class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"},v={class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"},k={class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"},w={class:"text-center px-2 whitespace-nowrap uppercase text-gray-500 text-xxs tracking-wide py-2"},x={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},C={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},N={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},V={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},_={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},B=["innerHTML"],E={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},D={class:"px-2 py-2 border-t border-gray-100 dark:border-gray-700 whitespace-nowrap cursor-pointer dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},S={key:1,class:"flex flex-col justify-center items-center px-6 py-8"},O={class:"text-base font-normal mt-3"};const M={data:function(){return{modalOpen:!1,running:!1,groups:[],commands:{},customCommand:{label:this.__("Custom Command"),type:"primary",help:this.__("Are you sure you want to run this command?"),command_type:"artisan",command:"",variables:[],flags:[]},history:{},runningCommand:{},help:"",heading:"",customCommands:{}}},created:function(){this.getData()},methods:{clearHistory:function(){this.openModal({label:this.__("Clear Command Run History"),type:"primary",help:this.__("Are you sure you want to clear the command run history?"),command_type:"artisan",command:"cache:forget nova-command-runner-history",variables:[],flags:[]})},getOptions:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];for(var o in t&&n.push({value:"",label:"-"}),e)n.push({value:o,label:e[o]});return n},runCustomCommand:function(){this.customCommand.command?this.openModal(this.customCommand):Nova.error("Please enter a command")},getData:function(){var e=this;Nova.request().get("/nova-vendor/stepanenko3/nova-command-runner").then((function(t){e.groups=[],t.data.commands.forEach((function(t){var n=t.group;e.groups.indexOf(n)<0&&e.groups.push(n)})),e.commands=t.data.commands,e.history=t.data.history,e.help=t.data.help,e.heading=t.data.heading,e.customCommands=t.data.custom_commands,e.customCommands&&(e.customCommand.command_type=Object.keys(e.customCommands)[0])}))},runCommand:function(){var e=this,t=!0;this.runningCommand.variables&&Object.keys(this.runningCommand.variables).forEach((function(n){e.runningCommand.variables[n].value||(t=!1,Nova.error(e.runningCommand.variables[n].label+" is required"))})),t&&(this.running=!0,Nova.request().post("/nova-vendor/stepanenko3/nova-command-runner/run",{command:this.runningCommand}).then((function(t){t.data.status&&"success"===t.data.status?Nova.success(t.data.result):Nova.error(t.data.result),e.running=!1,e.history=t.data.history,e.closeModal()})).catch((function(t){e.running=!1})))},openModal:function(e){this.runningCommand=e,this.modalOpen=!0},closeModal:function(){this.modalOpen=!1,this.runningCommand={}}}};var T=n(379),j=n.n(T),L=n(465),H={insert:"head",singleton:!1};j()(L.Z,H);L.Z.locals;const F=(0,n(744).Z)(M,[["render",function(n,M,T,j,L,H){var F,A=(0,e.resolveComponent)("ModalHeader"),z=(0,e.resolveComponent)("SelectControl"),R=(0,e.resolveComponent)("CheckboxWithLabel"),I=(0,e.resolveComponent)("CancelButton"),U=(0,e.resolveComponent)("LoadingButton"),Z=(0,e.resolveComponent)("ModalFooter"),q=(0,e.resolveComponent)("Modal"),P=(0,e.resolveComponent)("Heading"),J=(0,e.resolveComponent)("Card"),W=(0,e.resolveComponent)("Template"),G=(0,e.resolveComponent)("DefaultButton"),K=(0,e.resolveComponent)("heading"),Q=(0,e.resolveComponent)("DangerButton"),X=(0,e.resolveComponent)("Badge"),Y=(0,e.resolveComponent)("Icon"),$=(0,e.resolveComponent)("card");return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createVNode)(q,{show:L.modalOpen,tabindex:"-1","data-testid":"command-runner-modal",role:"dialog"},{default:(0,e.withCtx)((function(){return[(0,e.createElementVNode)("div",t,[(0,e.createVNode)(A,{textContent:(0,e.toDisplayString)(L.runningCommand.label)},null,8,["textContent"]),(0,e.createElementVNode)("div",o,[L.runningCommand.help?((0,e.openBlock)(),(0,e.createElementBlock)("p",r,(0,e.toDisplayString)(L.runningCommand.help),1)):(0,e.createCommentVNode)("",!0),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(L.runningCommand.variables,(function(t,n){return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createElementVNode)("label",a,(0,e.toDisplayString)(t.label),1),"select"===t.field?((0,e.openBlock)(),(0,e.createBlock)(z,{key:0,size:"lg",dusk:t.label,options:H.getOptions(t.options),selected:H.getOptions(t.options)[0].value||"",onChange:function(e){return t.value=e}},null,8,["dusk","options","selected","onChange"])):(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("input",{key:1,type:t.field,class:"w-full form-control form-input form-input-bordered w-full","onUpdate:modelValue":function(e){return t.value=e},placeholder:t.placeholder},null,8,c)),[[e.vModelDynamic,t.value]])])})),256)),L.runningCommand.flags.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",l,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(L.runningCommand.flags,(function(t,n){return(0,e.openBlock)(),(0,e.createBlock)(R,{key:"flag-"+n,onInput:function(e){return L.runningCommand.flags[n].selected=e.target.checked}},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(t.label),1)]})),_:2},1032,["onInput"])})),128))])):(0,e.createCommentVNode)("",!0)]),(0,e.createVNode)(Z,null,{default:(0,e.withCtx)((function(){return[(0,e.createElementVNode)("div",s,[(0,e.createVNode)(I,{component:"button",type:"button",dusk:"cancel-action-button",class:"ml-auto mr-3",onClick:(0,e.withModifiers)(H.closeModal,["prevent"])},null,8,["onClick"]),(0,e.createVNode)(U,{type:"submit",ref:"runButton",dusk:"confirm-run-button",disabled:L.running,loading:L.running,onClick:M[0]||(M[0]=function(e){return H.runCommand()}),component:L.runningCommand.type&&-1===["primary","danger"].indexOf(L.runningCommand.type)?n.BasicButton:"danger"===L.runningCommand.type?"DangerButton":"DefaultButton",class:(0,e.normalizeClass)(L.runningCommand.type&&-1===["primary","danger"].indexOf(L.runningCommand.type)?"btn-"+L.runningCommand.type:"")},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(L.runningCommand.label),1)]})),_:1},8,["disabled","loading","component","class"])])]})),_:1})])]})),_:1},8,["show"]),(0,e.createVNode)(P,{class:"mb-6"},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(L.heading),1)]})),_:1}),L.help?((0,e.openBlock)(),(0,e.createBlock)(W,{key:0},{default:(0,e.withCtx)((function(){return[(0,e.createVNode)(J,{class:"p-3"},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(L.help),1)]})),_:1})]})),_:1})):(0,e.createCommentVNode)("",!0),Array.isArray(L.customCommands)?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",i,[(0,e.createVNode)(z,{class:"md:w-1/5 mb-2 md:mb-0",options:H.getOptions(L.customCommands,!1),selected:null!==(F=H.getOptions(L.customCommands,!1)[0].value)&&void 0!==F?F:"",dusk:"command-runner-type",size:"lg",onChange:M[1]||(M[1]=function(e){return L.customCommand.command_type=e})},null,8,["options","selected"]),(0,e.createElementVNode)("div",d,[(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"text","onUpdate:modelValue":M[2]||(M[2]=function(e){return L.customCommand.command=e}),placeholder:this.__("Enter a Command..."),class:"w-full form-control form-input form-input-bordered"},null,8,u),[[e.vModelText,L.customCommand.command]])]),(0,e.createVNode)(G,{size:"lg",onClick:H.runCustomCommand,class:"w-full md:w-1/3"},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(n.__("Run")),1)]})),_:1},8,["onClick"])])),(0,e.createVNode)(J,{class:"grid md:grid-cols-12 gap-6 p-6"},{default:(0,e.withCtx)((function(){return[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(L.groups,(function(t){return(0,e.openBlock)(),(0,e.createElementBlock)("div",m,[(0,e.createVNode)(P,{level:"2"},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(t||n.__("Unnamed group")),1)]})),_:2},1024),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(L.commands,(function(o,r){return(0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,null,[o.group==t?((0,e.openBlock)(),(0,e.createBlock)(U,{key:0,size:"lg",ref_for:!0,ref:"button",class:(0,e.normalizeClass)(["shadow relative w-full mt-2",o.type&&-1===["primary","danger"].indexOf(o.type)?"btn-"+o.type:""]),disabled:L.running,onClick:function(e){return H.openModal(o)},component:o.type&&-1===["primary","danger"].indexOf(o.type)?n.BasicButton:"danger"===o.type?"DangerButton":"DefaultButton"},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(o.label),1)]})),_:2},1032,["disabled","onClick","component","class"])):(0,e.createCommentVNode)("",!0)],64)})),256))])})),256))]})),_:1}),(0,e.createElementVNode)("div",p,[(0,e.createVNode)(K,null,{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(n.__("History")),1)]})),_:1}),(0,e.createVNode)(Q,{class:"items-right md:mt-2",onClick:H.clearHistory},{default:(0,e.withCtx)((function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(n.__("Clear History")),1)]})),_:1},8,["onClick"])]),(0,e.createVNode)($,{class:"mb-6 overflow-hidden overflow-x-auto relative"},{default:(0,e.withCtx)((function(){return[L.history&&Object.keys(L.history).length>0?((0,e.openBlock)(),(0,e.createElementBlock)("table",g,[(0,e.createElementVNode)("thead",null,[(0,e.createElementVNode)("tr",null,[(0,e.createElementVNode)("th",f,(0,e.toDisplayString)(n.__("Command")),1),(0,e.createElementVNode)("th",b,(0,e.toDisplayString)(n.__("Type")),1),(0,e.createElementVNode)("th",h,(0,e.toDisplayString)(n.__("Run By")),1),(0,e.createElementVNode)("th",y,(0,e.toDisplayString)(n.__("Status")),1),(0,e.createElementVNode)("th",v,(0,e.toDisplayString)(n.__("Result")),1),(0,e.createElementVNode)("th",k,(0,e.toDisplayString)(n.__("Duration")),1),(0,e.createElementVNode)("th",w,(0,e.toDisplayString)(n.__("Happened")),1)])]),(0,e.createElementVNode)("tbody",null,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(L.history,(function(t){return(0,e.openBlock)(),(0,e.createElementBlock)("tr",null,[(0,e.createElementVNode)("td",x,(0,e.toDisplayString)(t.run),1),(0,e.createElementVNode)("td",C,(0,e.toDisplayString)(t.type),1),(0,e.createElementVNode)("td",N,(0,e.toDisplayString)(t.run_by),1),(0,e.createElementVNode)("td",V,[(0,e.createVNode)(X,{label:t.status,extraClasses:"badge-"+t.status},null,8,["label","extraClasses"])]),(0,e.createElementVNode)("td",_,[(0,e.createElementVNode)("pre",{innerHTML:t.result},null,8,B)]),(0,e.createElementVNode)("td",E,(0,e.toDisplayString)(t.duration?t.duration+" sec.":""),1),(0,e.createElementVNode)("td",D,(0,e.toDisplayString)(t.time),1)])})),256))])])):((0,e.openBlock)(),(0,e.createElementBlock)("div",S,[(0,e.createVNode)(Y,{type:"search",class:"mb-3 text-gray-300 dark:text-gray-500",width:"50",height:"50"}),(0,e.createElementVNode)("h3",O,(0,e.toDisplayString)(n.__("No Logs.")),1)]))]})),_:1})])}]]);Nova.booting((function(e,t){Nova.inertia("NovaCommandRunner",F)}))})()})();